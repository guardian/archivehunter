# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

GET     /is-online                  controllers.Application.healthcheck
GET     /                           @controllers.Application.rootIndex()

POST    /api/scanTarget                 @controllers.ScanTargetController.newTarget
DELETE  /api/scanTarget/:id             @controllers.ScanTargetController.removeTarget(id)
GET     /api/scanTarget/:id             @controllers.ScanTargetController.get(id)

GET     /api/scanTarget                 @controllers.ScanTargetController.listScanTargets
POST    /api/scanTarget/:id/scan        @controllers.ScanTargetController.manualTrigger(id)
POST    /api/scanTarget/:id/deletionScan  @controllers.ScanTargetController.manualTriggerDeletionScan(id)
POST    /api/scanTarget/:id/additionScan  @controllers.ScanTargetController.manualTriggerAdditionScan(id)
POST    /api/scanTarget/:id/legacyProxiesScan @controllers.ScanTargetController.scanForLegacyProxies(id)
POST    /api/scanTarget/:id/genProxies  @controllers.ScanTargetController.genProxies(id)

GET     /api/search/basic      @controllers.SearchController.simpleStringSearch(q:Option[String],start:Option[Int],length:Option[Int])
PUT     /api/search/suggestions         @controllers.SearchController.suggestions

GET     /api/proxy/searchForFile        @controllers.ProxiesController.searchFor(id:String)
GET     /api/proxy/:id/associate        @controllers.ProxiesController.associate(fileId:Option[String],id)
GET     /api/proxy/:id/playable         @controllers.ProxiesController.getPlayable(id, proxyType:Option[String])
GET     /api/proxy/:id                  @controllers.ProxiesController.proxyForId(id, proxyType:Option[String])

POST    /api/proxy/generate/:id/thumbnail   @controllers.ProxiesController.generateThumbnail(id)
POST    /api/proxy/generate/:id         @controllers.ProxiesController.generateProxy(id)

POST    /api/job/:jobid/report          @controllers.JobController.updateStatus(jobid)
GET     /api/job/all                    @controllers.JobController.getAllJobs(limit:Int ?=100, scanFrom:Option[String])
GET     /api/job/forFile/:fileId        @controllers.JobController.jobsFor(fileId)

# Map static resources from the /public folder to the /assets URL path
GET     /assets/*file               controllers.Assets.at(path="/public", file)
GET     /*tail                      @controllers.Application.index(tail)

